{"version":3,"sources":["components/Names.js","components/Pagination.js","components/Details.js","App.js","index.js"],"names":["Names","nameLists","currentPage","itemsPerPage","loading","dispatch","currentEndIndex","currentStartIndex","currentNamesList","slice","className","scope","map","r","key","name","onClick","type","payload","href","height","mass","Pagination","restNames","total","aria-label","aria-hidden","aria-disabled","Details","currentPerson","birthYear","gender","films","film","initialState","data","filmLinks","reducer","state","action","App","useReducer","useEffect","a","axios","get","res","fetchData","fetchFilms","filmLink","title","promises","forEach","element","push","Promise","all","titles","process","console","log","results","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.647d80be.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Names({ nameLists, currentPage, itemsPerPage, loading, dispatch }) {\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  // get current names list\n  const currentEndIndex = currentPage * itemsPerPage;\n  const currentStartIndex = currentEndIndex - itemsPerPage;\n  const currentNamesList = nameLists.slice(currentStartIndex, currentEndIndex);\n  return (\n    <table className=\"table\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Name</th>\n          <th scope=\"col\">Height</th>\n          <th scope=\"col\">Mass</th>\n        </tr>\n      </thead>\n      <tbody>\n        {currentNamesList.map(r => (\n          <tr key={r.name}>\n            <td>\n              <a\n                onClick={() => dispatch({ type: \"DISPLAY\", payload: r })}\n                href=\"https://kyrie1995.github.io/star-war/\"\n              >\n                {r.name}\n              </a>\n            </td>\n            <td>{r.height}</td>\n            <td>{r.mass}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n\nexport default Names;\n","import React from \"react\";\n\nfunction Pagination({ currentPage, dispatch, itemsPerPage, total }) {\n  const restNames = total - currentPage * itemsPerPage;\n  return (\n    <nav aria-label=\"Page navigation example\">\n      <ul className=\"pagination justify-content-end\">\n        {currentPage === 1 ? (\n          <li className=\"page-item disabled\">\n            <a\n              onClick={() => dispatch({ type: \"PREV_PAGE\" })}\n              className=\"page-link\"\n              href=\"https://kyrie1995.github.io/star-war/\"\n              aria-label=\"Previous\"\n            >\n              <span aria-hidden=\"true\">&laquo;</span>\n            </a>\n          </li>\n        ) : (\n          <li className=\"page-item\">\n            <a\n              onClick={() => dispatch({ type: \"PREV_PAGE\" })}\n              className=\"page-link\"\n              href=\"https://kyrie1995.github.io/star-war/\"\n              aria-label=\"Previous\"\n            >\n              <span aria-hidden=\"true\">&laquo;</span>\n            </a>\n          </li>\n        )}\n        <li className=\"page-item disabled\">\n          <a className=\"page-link\" href=\"#\" aria-disabled=\"true\">\n            {currentPage}\n          </a>\n        </li>\n        {restNames >= 0 ? (\n          <li className=\"page-item\">\n            <a\n              onClick={() => dispatch({ type: \"NEXT_PAGE\" })}\n              className=\"page-link\"\n              href=\"https://kyrie1995.github.io/star-war/\"\n              aria-label=\"Next\"\n            >\n              <span aria-hidden=\"true\">&raquo;</span>\n            </a>\n          </li>\n        ) : (\n          <li className=\"page-item disabled\">\n            <a\n              onClick={() => dispatch({ type: \"NEXT_PAGE\" })}\n              className=\"page-link\"\n              href=\"https://kyrie1995.github.io/star-war/\"\n              aria-label=\"Next\"\n            >\n              <span aria-hidden=\"true\">&raquo;</span>\n            </a>\n          </li>\n        )}\n      </ul>\n    </nav>\n  );\n}\n\nexport default Pagination;\n","import React from \"react\";\n\nfunction Details({ currentPerson }) {\n  return (\n    <div>\n      <div>\n        <h1 className=\"text-primary mb-3\">Details</h1>\n      </div>\n      <ul className=\"list-inline\">\n        <li className=\"list-inline-item font-weight-bold\">Name:</li>\n        <li className=\"list-inline-item\">{currentPerson.name}</li>\n      </ul>\n      <ul className=\"list-inline\">\n        <li className=\"list-inline-item font-weight-bold\">Birth year:</li>\n        <li className=\"list-inline-item\">{currentPerson.birthYear}</li>\n      </ul>\n      <ul className=\"list-inline\">\n        <li className=\"list-inline-item font-weight-bold\">Gender:</li>\n        <li className=\"list-inline-item\">{currentPerson.gender}</li>\n      </ul>\n      <ul className=\"list-inline\">\n        <li className=\"list-inline-item font-weight-bold\">List of films:</li>\n        <ul className=\"list-unstyled\">\n          {currentPerson.films.map(film => (\n            <li key={film}>{film}</li>\n          ))}\n        </ul>\n      </ul>\n    </div>\n  );\n}\n\nexport default Details;\n","import React, { useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\nimport Names from \"./components/Names\";\nimport Pagination from \"./components/Pagination\";\nimport Details from \"./components/Details\";\n\nconst initialState = {\n  data: {},\n  loading: true,\n  itemsPerPage: 3,\n  currentPage: 1,\n  currentPerson: {\n    name: \"\",\n    birthYear: \"\",\n    gender: \"\",\n    filmLinks: [],\n    films: []\n  }\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"FETCH_DATA\":\n      return { ...state, data: action.payload, loading: false };\n    case \"PREV_PAGE\":\n      return { ...state, currentPage: state.currentPage - 1 };\n    case \"NEXT_PAGE\":\n      return { ...state, currentPage: state.currentPage + 1 };\n    case \"DISPLAY\":\n      return {\n        ...state,\n        currentPerson: {\n          ...state.currentPerson,\n          name: action.payload.name,\n          birthYear: action.payload[\"birth_year\"],\n          gender: action.payload.gender,\n          filmLinks: action.payload.films\n        }\n      };\n    case \"FETCH_FILMS\":\n      return {\n        ...state,\n        currentPerson: {\n          ...state.currentPerson,\n          films: action.payload\n        }\n      };\n    default:\n      return state;\n  }\n}\n\nconst App = () => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await axios.get(\"https://swapi.co/api/people/\");\n      dispatch({ type: \"FETCH_DATA\", payload: res.data });\n    };\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    const fetchFilms = async filmLink => {\n      const res = await axios.get(filmLink);\n      return res.data.title;\n    };\n    if (state.currentPerson.name) {\n      const promises = [];\n      state.currentPerson.filmLinks.forEach(element => {\n        const res = fetchFilms(element);\n        promises.push(res);\n      });\n\n      const process = async promises => {\n        const titles = await Promise.all(promises);\n        dispatch({ type: \"FETCH_FILMS\", payload: titles });\n      };\n\n      process(promises);\n      console.log(state.currentPerson);\n    }\n  }, [state.currentPerson.name]);\n\n  return (\n    <div className=\"container mt-5\">\n      <h1 className=\"text-primary mb-3\">Star War</h1>\n      <Names\n        currentPage={state.currentPage}\n        itemsPerPage={state.itemsPerPage}\n        nameLists={state.data.results}\n        loading={state.loading}\n        dispatch={dispatch}\n      />\n      <Pagination\n        currentPage={state.currentPage}\n        dispatch={dispatch}\n        itemsPerPage={state.itemsPerPage}\n        total={state.data.results ? state.data.results.length : 0}\n      />\n      <Details currentPerson={state.currentPerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}